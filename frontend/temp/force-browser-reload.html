<!DOCTYPE html>
<html>
<head>
    <title>üîÑ Forzar Recarga Total del Navegador</title>
    <style>
        body { font-family: Arial; background: #f0f0f0; padding: 20px; }
        .container { max-width: 600px; margin: 0 auto; background: white; padding: 30px; border-radius: 10px; }
        .step { margin: 20px 0; padding: 15px; background: #f8f9fa; border-radius: 5px; }
        .highlight { background: #fff3cd; border: 1px solid #ffeaa7; padding: 10px; border-radius: 5px; }
        button { background: #007bff; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin: 10px 5px; }
        button:hover { background: #0056b3; }
    </style>
</head>
<body>
    <div class="container">
        <h2>üîÑ Soluci√≥n para Error: "Cannot read properties of undefined (reading 'baseUrl')"</h2>
        
        <div class="highlight">
            <h3>üéØ PROBLEMA IDENTIFICADO:</h3>
            <p>El navegador est√° usando una versi√≥n cacheada del archivo <code>matchingService.ts</code> que a√∫n contiene la importaci√≥n incorrecta <code>apiClient</code>.</p>
        </div>

        <div class="step">
            <h3>‚úÖ PASO 1: Limpiar Cache Completo</h3>
            <p>Presiona este bot√≥n para limpiar TODO el cache del navegador:</p>
            <button onclick="clearAllCache()">üóëÔ∏è LIMPIAR CACHE COMPLETO</button>
        </div>

        <div class="step">
            <h3>‚úÖ PASO 2: Recarga Forzada</h3>
            <p>Usa una de estas opciones:</p>
            <button onclick="hardReload()">üîÑ RECARGA FORZADA (Ctrl+Shift+R)</button>
            <p><strong>O manualmente:</strong></p>
            <ul>
                <li><strong>Windows/Linux:</strong> Ctrl + Shift + R</li>
                <li><strong>Mac:</strong> Cmd + Shift + R</li>
            </ul>
        </div>

        <div class="step">
            <h3>‚úÖ PASO 3: Verificar Red</h3>
            <p>Abre las herramientas de desarrollador (F12) ‚Üí pesta√±a "Network" ‚Üí marca "Disable cache"</p>
        </div>

        <div class="step">
            <h3>üîß VERIFICACI√ìN T√âCNICA</h3>
            <p>El archivo ha sido corregido correctamente:</p>
            <code>import api from './api';</code> ‚úÖ<br>
            <s><code>import apiClient from './api';</code></s> ‚ùå
            <p>Timestamp de correcci√≥n: <code>2025-08-31T01:27:00Z</code></p>
        </div>
    </div>

    <script>
        function clearAllCache() {
            console.log('üîÑ LIMPIANDO CACHE COMPLETO...');
            
            // Limpiar localStorage
            localStorage.clear();
            console.log('‚úÖ localStorage limpiado');
            
            // Limpiar sessionStorage
            sessionStorage.clear();
            console.log('‚úÖ sessionStorage limpiado');
            
            // Limpiar cookies
            document.cookie.split(";").forEach(function(c) { 
                document.cookie = c.replace(/^ +/, "").replace(/=.*/, "=;expires=" + new Date().toUTCString() + ";path=/"); 
            });
            console.log('‚úÖ Cookies limpiadas');
            
            // Desregistrar service workers
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.getRegistrations().then(function(registrations) {
                    registrations.forEach(function(registration) {
                        registration.unregister();
                    });
                    console.log('‚úÖ Service workers desregistrados');
                });
            }
            
            alert('‚úÖ Cache completamente limpiado. Ahora recarga la p√°gina.');
        }
        
        function hardReload() {
            console.log('üîÑ EJECUTANDO RECARGA FORZADA...');
            // Forzar recarga sin cache
            location.reload(true);
        }
        
        // Auto-ejecutar limpieza si se accede con ?auto=true
        if (window.location.search.includes('auto=true')) {
            clearAllCache();
            setTimeout(hardReload, 2000);
        }
    </script>
</body>
</html>